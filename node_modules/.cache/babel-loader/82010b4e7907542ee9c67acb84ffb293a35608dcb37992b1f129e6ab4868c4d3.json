{"ast":null,"code":"var _jsxFileName = \"/Users/thaistamaio/Desktop/Universidad/7) Se\\u0301ptimo semestre/Web/parcial1Web/parcial1/src/views/Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  const navigate = useNavigate();\n  const API_KEY = \"4cf9a140\";\n  const [formData, setFormData] = useState({\n    id: 1,\n    email: \"\",\n    password: \"\"\n  });\n  const [emailValid, setEmailValid] = useState(true);\n  const [passwordValid, setPasswordValid] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [lastId, setLastId] = useState(1);\n  const handleEmailChange = e => {\n    setFormData({\n      ...formData,\n      email: e.target.value\n    });\n    validateEmail(e.target.value);\n  };\n  const handlePasswordChange = e => {\n    setFormData({\n      ...formData,\n      password: e.target.value\n    });\n    validatePassword(e.target.value);\n  };\n  const validateEmail = email => {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    const isEmailValid = emailRegex.test(email);\n    setEmailValid(isEmailValid);\n  };\n  const validatePassword = password => {\n    const passwordRegex = /^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{6,}$/;\n    const isPasswordValid = passwordRegex.test(password);\n    setPasswordValid(isPasswordValid);\n  };\n  async function handlePost() {\n    validateEmail(formData.email);\n    validatePassword(formData.password);\n    if (!emailValid || !passwordValid) {\n      setError(\"El correo electrónico o la contraseña son inválidos\");\n      return;\n    }\n\n    // Si pasa las validaciones, continuar con la solicitud POST\n    const response = await fetch(\"https://my.api.mockaroo.com/Login.json?key=13d161b0&__method=POST\");\n    const data = await response.json();\n    if (data && data.role !== undefined) {\n      // Si el inicio de sesión es exitoso y 'role' está definido en el primer elemento de 'data'\n      navigate(\"/Home\", {\n        state: {\n          userRole: data.role\n        }\n      });\n    } else {\n      setError(\"No se pudo obtener el rol del usuario\");\n    }\n    setLastId(lastId + 1);\n    setFormData({\n      id: lastId + 1,\n      email: \"\",\n      password: \"\"\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-5\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-6\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"ruta_de_la_imagen.png\",\n          alt: \"Imagen de inicio de sesi\\xF3n\",\n          className: \"img-fluid\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Iniciar Sesi\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-danger\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Correo Electr\\xF3nico\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              className: `form-control ${emailValid ? \"\" : \"is-invalid\"}`,\n              value: formData.email,\n              onChange: handleEmailChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this), !emailValid && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"invalid-feedback\",\n              children: \"Correo electr\\xF3nico no v\\xE1lido\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 31\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Contrase\\xF1a\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              className: `form-control ${passwordValid ? \"\" : \"is-invalid\"}`,\n              value: formData.password,\n              onChange: handlePasswordChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this), !passwordValid && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"invalid-feedback\",\n              children: \"La contrase\\xF1a debe tener al menos 6 caracteres, un caracter especial y una may\\xFAscula\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-primary\",\n            onClick: handlePost,\n            children: \"Iniciar Sesi\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"AUsNLLHnoFXa/wcRNRQBbOWQJOo=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useNavigate","jsxDEV","_jsxDEV","Login","_s","navigate","API_KEY","formData","setFormData","id","email","password","emailValid","setEmailValid","passwordValid","setPasswordValid","error","setError","lastId","setLastId","handleEmailChange","e","target","value","validateEmail","handlePasswordChange","validatePassword","emailRegex","isEmailValid","test","passwordRegex","isPasswordValid","handlePost","response","fetch","data","json","role","undefined","state","userRole","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","onClick","_c","$RefreshReg$"],"sources":["/Users/thaistamaio/Desktop/Universidad/7) Séptimo semestre/Web/parcial1Web/parcial1/src/views/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nfunction Login() {\n  const navigate = useNavigate();\n  const API_KEY = \"4cf9a140\";\n  const [formData, setFormData] = useState({ id: 1, email: \"\", password: \"\" });\n  const [emailValid, setEmailValid] = useState(true);\n  const [passwordValid, setPasswordValid] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [lastId, setLastId] = useState(1);\n\n  const handleEmailChange = (e) => {\n    setFormData({ ...formData, email: e.target.value });\n    validateEmail(e.target.value);\n  };\n\n  const handlePasswordChange = (e) => {\n    setFormData({ ...formData, password: e.target.value });\n    validatePassword(e.target.value);\n  };\n\n  const validateEmail = (email) => {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    const isEmailValid = emailRegex.test(email);\n    setEmailValid(isEmailValid);\n  };\n\n  const validatePassword = (password) => {\n    const passwordRegex = /^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{6,}$/;\n    const isPasswordValid = passwordRegex.test(password);\n    setPasswordValid(isPasswordValid);\n  };\n\n  async function handlePost() {\n    validateEmail(formData.email);\n    validatePassword(formData.password);\n\n    if (!emailValid || !passwordValid) {\n      setError(\"El correo electrónico o la contraseña son inválidos\");\n      return;\n    }\n\n      // Si pasa las validaciones, continuar con la solicitud POST\n    const response = await fetch(\n      \"https://my.api.mockaroo.com/Login.json?key=13d161b0&__method=POST\"\n    );\n    const data = await response.json();\n    if (data && data.role !== undefined) {\n      // Si el inicio de sesión es exitoso y 'role' está definido en el primer elemento de 'data'\n      navigate(\"/Home\", { state: { userRole: data.role } });\n    } else {\n      setError(\"No se pudo obtener el rol del usuario\");\n    }\n\n    setLastId(lastId + 1);\n    setFormData({ id: lastId + 1, email: \"\", password: \"\" });\n  }\n\n  return (\n    <div className=\"container mt-5\">\n      <div className=\"row\">\n        <div className=\"col-md-6\">\n          <img\n            src=\"ruta_de_la_imagen.png\"\n            alt=\"Imagen de inicio de sesión\"\n            className=\"img-fluid\"\n          />\n        </div>\n        <div className=\"col-md-6\">\n          <h2>Iniciar Sesión</h2>\n          {error && <div className=\"alert alert-danger\">{error}</div>}\n          <form>\n            <div className=\"form-group\">\n              <label>Correo Electrónico</label>\n              <input\n                type=\"email\"\n                className={`form-control ${emailValid ? \"\" : \"is-invalid\"}`}\n                value={formData.email}\n                onChange={handleEmailChange}\n              />\n              {!emailValid && <div className=\"invalid-feedback\">Correo electrónico no válido</div>}\n            </div>\n            <div className=\"form-group\">\n              <label>Contraseña</label>\n              <input\n                type=\"password\"\n                className={`form-control ${passwordValid ? \"\" : \"is-invalid\"}`}\n                value={formData.password}\n                onChange={handlePasswordChange}\n              />\n              {!passwordValid && (\n                <div className=\"invalid-feedback\">La contraseña debe tener al menos 6 caracteres, un caracter especial y una mayúscula</div>\n              )}\n            </div>\n            <button type=\"button\" className=\"btn btn-primary\" onClick={handlePost}>\n              Iniciar Sesión\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}