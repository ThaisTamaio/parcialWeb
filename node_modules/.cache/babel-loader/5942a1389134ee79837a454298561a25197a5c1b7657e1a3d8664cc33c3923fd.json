{"ast":null,"code":"var _jsxFileName = \"/Users/thaistamaio/Desktop/Universidad/7) Se\\u0301ptimo semestre/Web/parcial1Web/parcial1/src/views/Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\"; // Importa useEffect\nimport { useNavigate } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  const navigate = useNavigate();\n  const API_KEY = \"4cf9a140\";\n  const [formData, setFormData] = useState({\n    id: 1,\n    email: \"\",\n    password: \"\"\n  });\n  const [emailValid, setEmailValid] = useState(false); // Cambia el valor inicial a false\n  const [passwordValid, setPasswordValid] = useState(false); // Cambia el valor inicial a false\n  const [emailTouched, setEmailTouched] = useState(false);\n  const [passwordTouched, setPasswordTouched] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [lastId, setLastId] = useState(1);\n  const handleEmailChange = e => {\n    setEmailTouched(true);\n    setFormData({\n      ...formData,\n      email: e.target.value\n    });\n  };\n  const handlePasswordChange = e => {\n    setPasswordTouched(true);\n    setFormData({\n      ...formData,\n      password: e.target.value\n    });\n  };\n  const validateEmail = email => {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    const isEmailValid = emailRegex.test(email);\n    setEmailValid(isEmailValid);\n  };\n  const validatePassword = password => {\n    const isPasswordValid = password.length > 6;\n    setPasswordValid(isPasswordValid);\n  };\n\n  // Efecto que se ejecuta cada vez que formData.email o formData.password cambian\n  useEffect(() => {\n    validateEmail(formData.email);\n    validatePassword(formData.password);\n  }, [formData.email, formData.password]);\n  async function handlePost() {\n    if (!emailValid || !passwordValid) {\n      setError(\"El correo electrónico o la contraseña son inválidos\");\n      return;\n    }\n\n    // Si pasa las validaciones, continuar con la solicitud POST\n    const response = await fetch(\"https://my.api.mockaroo.com/Login.json?key=13d161b0&__method=POST\");\n    const data = await response.json();\n    if (data && data.role !== undefined) {\n      // Si el inicio de sesión es exitoso y 'role' está definido en el primer elemento de 'data'\n      navigate(\"/Home\", {\n        state: {\n          userRole: data.role\n        }\n      });\n    } else {\n      setError(\"No se pudo obtener el rol del usuario\");\n    }\n    setLastId(lastId + 1);\n    setFormData({\n      id: lastId + 1,\n      email: \"\",\n      password: \"\"\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-5\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-6\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"ruta_de_la_imagen.png\",\n          alt: \"Imagen de inicio de sesi\\xF3n\",\n          className: \"img-fluid\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Iniciar Sesi\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-danger\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Correo Electr\\xF3nico\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              className: `form-control ${emailValid || !emailTouched ? \"\" : \"is-invalid\"}`,\n              value: formData.email,\n              onChange: handleEmailChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this), !emailValid && emailTouched && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"invalid-feedback\",\n              children: \"Correo electr\\xF3nico no v\\xE1lido\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 47\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Contrase\\xF1a\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              className: `form-control ${passwordValid || !passwordTouched ? \"\" : \"is-invalid\"}`,\n              value: formData.password,\n              onChange: handlePasswordChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 15\n            }, this), !passwordValid && passwordTouched && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"invalid-feedback\",\n              children: \"La contrase\\xF1a debe ser de 6 caracteres\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-primary\",\n            onClick: handlePost,\n            children: \"Iniciar Sesi\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"161Yc04Pkz6Ek5g6kU3Jh8TnwKM=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsxDEV","_jsxDEV","Login","_s","navigate","API_KEY","formData","setFormData","id","email","password","emailValid","setEmailValid","passwordValid","setPasswordValid","emailTouched","setEmailTouched","passwordTouched","setPasswordTouched","error","setError","lastId","setLastId","handleEmailChange","e","target","value","handlePasswordChange","validateEmail","emailRegex","isEmailValid","test","validatePassword","isPasswordValid","length","handlePost","response","fetch","data","json","role","undefined","state","userRole","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","onClick","_c","$RefreshReg$"],"sources":["/Users/thaistamaio/Desktop/Universidad/7) Séptimo semestre/Web/parcial1Web/parcial1/src/views/Login.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";  // Importa useEffect\nimport { useNavigate } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nfunction Login() {\n  const navigate = useNavigate();\n  const API_KEY = \"4cf9a140\";\n  const [formData, setFormData] = useState({ id: 1, email: \"\", password: \"\" });\n  const [emailValid, setEmailValid] = useState(false);  // Cambia el valor inicial a false\n  const [passwordValid, setPasswordValid] = useState(false);  // Cambia el valor inicial a false\n  const [emailTouched, setEmailTouched] = useState(false);\n  const [passwordTouched, setPasswordTouched] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [lastId, setLastId] = useState(1);\n\n  const handleEmailChange = (e) => {\n    setEmailTouched(true);\n    setFormData({ ...formData, email: e.target.value });\n  };\n\n  const handlePasswordChange = (e) => {\n    setPasswordTouched(true);\n    setFormData({ ...formData, password: e.target.value });\n  };\n\n  const validateEmail = (email) => {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    const isEmailValid = emailRegex.test(email);\n    setEmailValid(isEmailValid);\n  };\n\n  const validatePassword = (password) => {\n    const isPasswordValid = password.length > 6;\n    setPasswordValid(isPasswordValid);\n  };\n\n  // Efecto que se ejecuta cada vez que formData.email o formData.password cambian\n  useEffect(() => {\n    validateEmail(formData.email);\n    validatePassword(formData.password);\n  }, [formData.email, formData.password]);\n\n  async function handlePost() {\n    if (!emailValid || !passwordValid) {\n      setError(\"El correo electrónico o la contraseña son inválidos\");\n      return;\n    }\n\n    // Si pasa las validaciones, continuar con la solicitud POST\n    const response = await fetch(\n      \"https://my.api.mockaroo.com/Login.json?key=13d161b0&__method=POST\"\n    );\n    const data = await response.json();\n    if (data && data.role !== undefined) {\n      // Si el inicio de sesión es exitoso y 'role' está definido en el primer elemento de 'data'\n      navigate(\"/Home\", { state: { userRole: data.role } });\n    } else {\n      setError(\"No se pudo obtener el rol del usuario\");\n    }\n\n    setLastId(lastId + 1);\n    setFormData({ id: lastId + 1, email: \"\", password: \"\" });\n  }\n\n  return (\n    <div className=\"container mt-5\">\n      <div className=\"row\">\n        <div className=\"col-md-6\">\n          <img\n            src=\"ruta_de_la_imagen.png\"\n            alt=\"Imagen de inicio de sesión\"\n            className=\"img-fluid\"\n          />\n        </div>\n        <div className=\"col-md-6\">\n          <h2>Iniciar Sesión</h2>\n          {error && <div className=\"alert alert-danger\">{error}</div>}\n          <form>\n            <div className=\"form-group\">\n              <label>Correo Electrónico</label>\n              <input\n                type=\"email\"\n                className={`form-control ${emailValid || !emailTouched ? \"\" : \"is-invalid\"}`}\n                value={formData.email}\n                onChange={handleEmailChange}\n              />\n              {!emailValid && emailTouched && <div className=\"invalid-feedback\">Correo electrónico no válido</div>}\n            </div>\n            <div className=\"form-group\">\n              <label>Contraseña</label>\n              <input\n                type=\"password\"\n                className={`form-control ${passwordValid || !passwordTouched ? \"\" : \"is-invalid\"}`}\n                value={formData.password}\n                onChange={handlePasswordChange}\n              />\n              {!passwordValid && passwordTouched && (\n                <div className=\"invalid-feedback\">La contraseña debe ser de 6 caracteres</div>\n              )}\n            </div>\n            <button type=\"button\" className=\"btn btn-primary\" onClick={handlePost}>\n              Iniciar Sesión\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}