{"ast":null,"code":"var _jsxFileName = \"/Users/thaistamaio/Desktop/Universidad/7) Se\\u0301ptimo semestre/Web/parcial1Web/parcial1/src/Login/Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport banner from '../assets/banner.png';\nimport './Login.css';\nimport { FormattedMessage, useIntl } from \"react-intl\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const [error, setError] = useState(\"\");\n  const intl = useIntl();\n  const handlePasswordChange = e => {\n    setFormData({\n      ...formData,\n      password: e.target.value\n    });\n  };\n  const handleCancel = () => {\n    setFormData({\n      email: \"\",\n      password: \"\"\n    });\n  };\n  async function handleLogin() {\n    const response = await fetch(\"http://localhost:3001/login\", {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        login: formData.email,\n        password: formData.password\n      })\n    });\n    const data = await response.json();\n    if (response.status === 200) {\n      navigate(\"/Home\", {\n        state: {\n          userRole: \"admin\"\n        }\n      }); // Asumiendo el rol de admin\n    } else {\n      const errorMessage = data.message === \"The provided credentials are incorrect.\" ? \"Error de autenticación. Revise sus credenciales\" : data.message;\n      setError(errorMessage || \"No se pudo iniciar sesión\");\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"titulo\",\n        children: \"El aroma m\\xE1gico\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: banner,\n      alt: \"Banner\",\n      className: \"banner-image\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login_container mt-3\",\n        children: /*#__PURE__*/_jsxDEV(\"b\", {\n          className: \"text-iniciarSesion\",\n          children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n            id: \"login.login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login_container mt-3 login_custom-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row justify-content-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              className: \"login_form\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group text-left-label\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n                    id: \"login.username\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 66,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 65,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"form-control\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group text-left-label\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n                    id: \"login.password\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 74,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  className: \"form-control\",\n                  value: formData.password,\n                  onChange: handlePasswordChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"button-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn btn-success\",\n                  onClick: handleLogin,\n                  children: \"Ingresar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn btn-danger\",\n                  onClick: handleCancel,\n                  children: \"Cancelar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 17\n              }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"error-message\",\n                style: {\n                  textAlign: 'left'\n                },\n                children: error\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 27\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"contact-info\",\n      children: \"Contact us: +57 3102105253 - info@elaromamagico.com - @elaromamagico\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n}\n_s(Login, \"92ErfiwQiN7d5V8/ZM1Z5XnzuoA=\", false, function () {\n  return [useNavigate, useIntl];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useNavigate","banner","FormattedMessage","useIntl","jsxDEV","_jsxDEV","Login","_s","navigate","formData","setFormData","email","password","error","setError","intl","handlePasswordChange","e","target","value","handleCancel","handleLogin","response","fetch","method","headers","body","JSON","stringify","login","data","json","status","state","userRole","errorMessage","message","children","className","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","id","type","onChange","onClick","style","textAlign","_c","$RefreshReg$"],"sources":["/Users/thaistamaio/Desktop/Universidad/7) Séptimo semestre/Web/parcial1Web/parcial1/src/Login/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport banner from '../assets/banner.png';\nimport './Login.css';\nimport { FormattedMessage, useIntl } from \"react-intl\";\n\nfunction Login() {\n    const navigate = useNavigate();\n    const [formData, setFormData] = useState({ email: \"\", password: \"\" });\n    const [error, setError] = useState(\"\");\n    const intl = useIntl();\n\n    const handlePasswordChange = (e) => {\n        setFormData({ ...formData, password: e.target.value });\n    };\n\n    const handleCancel = () => {\n        setFormData({ email: \"\", password: \"\" });\n    };\n\n    async function handleLogin() {\n        const response = await fetch(\"http://localhost:3001/login\", {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                login: formData.email,\n                password: formData.password\n            })\n        });\n\n        const data = await response.json();\n\n        if (response.status === 200) {\n            navigate(\"/Home\", { state: { userRole: \"admin\" } });  // Asumiendo el rol de admin\n        } else {\n            const errorMessage = data.message === \"The provided credentials are incorrect.\"\n                ? \"Error de autenticación. Revise sus credenciales\"\n                : data.message;\n            setError(errorMessage || \"No se pudo iniciar sesión\");\n        }\n    }\n\n    return (\n        <div>\n            <div>\n                <h2 className=\"titulo\">El aroma mágico</h2>\n                <hr />\n            </div>\n            <img src={banner} alt=\"Banner\" className=\"banner-image\" />\n            <hr />\n            <div>\n          <div className=\"login_container mt-3\">\n            <b className=\"text-iniciarSesion\">\n              <FormattedMessage id=\"login.login\" />\n            </b>\n          </div>\n          <div className=\"login_container mt-3 login_custom-container\">\n            <div className=\"row justify-content-center\">\n            <div className=\"col-md-6\">\n              <form className=\"login_form\">\n                <div className=\"form-group text-left-label\">\n                  <label>\n                    <FormattedMessage id=\"login.username\" />\n                  </label>\n                  <input\n                    className=\"form-control\"\n                  />\n                </div>\n                <div className=\"form-group text-left-label\">\n                  <label>\n                    <FormattedMessage id=\"login.password\" />\n                  </label>\n                  <input\n                    type=\"password\"\n                    className=\"form-control\"\n                    value={formData.password}\n                    onChange={handlePasswordChange}\n                  />\n                </div>\n                <div className=\"button-group\">\n                  <button type=\"button\" className=\"btn btn-success\" onClick={handleLogin}>\n                    Ingresar\n                  </button>\n                  <button type=\"button\" className=\"btn btn-danger\" onClick={handleCancel}>\n                    Cancelar\n                  </button>\n                </div>\n                {error && <div className=\"error-message\" style={{textAlign: 'left'}}>{error}</div>}\n              </form>\n            </div>\n            </div>\n          </div>\n      </div>\n      <div className=\"contact-info\">\n          Contact us: +57 3102105253 - info@elaromamagico.com - @elaromamagico\n      </div>\n        </div>\n    );\n}\n\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}